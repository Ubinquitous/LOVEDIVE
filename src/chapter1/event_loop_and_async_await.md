## 이벤트 루프와 비동기 통신의 이해

### 자바스크립트가 싱글스레드로 개발된 이유

- 1995년에는 HTML/CSS를 도와주는 간단한 작업 정도만 처리하기 위해 개발되었기 때문에

### 자바스크립트가 싱글 스레드에서 비동기를 처리하는 방법

자바스크립트 코드는 모두가 동기식이지만, 비동기를 처리하는 방법은 다양함.

```js
console.log(1);

setTimeout(() => {
  console.log("Hello, World!");
}, 0);

setTimeout(() => {
  console.log("Hello!");
}, 0);

console.log(4);
```

**1 -> 4 -> 2 -> 3**

### 호출 스택

수행해야 할 코드나 함수를 순차적으로 담는 스택

### 이벤트 루프

호출 스택이 비어있는지 여부를 확인하는 루프

1. 작업이 있는지 확인
2. 있다면 JS엔진으로 실행

### 태스크 큐

- 실행해야 할 태스크의 집합. 이벤트 루프는 태스크 큐를 한 개 이상 가지고 있음.
- 이름은 큐지만 자료구조는 set의 형태.
- 자바스크립트 코드인 동기식이 아니라 태스크 큐가 할당되는 별도의 스레드에서 처리됨. -> 이는 브라우저나 Node.JS가 해줌

### 마이크로 태스크 큐

- 이벤트 루프는 하나의 마이크로 태스크 큐를 가짐.
- 대표적으로 Promise , 마이크로 태스크 큐는 태스크 큐보다 우선권을 가짐,
- 각 마이크로 태스크 큐가 작업이 끝날 때마다 렌더링할 기회를 얻게됨
